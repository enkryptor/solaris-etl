# CLI Tool

Steps to run this project:

1. Run `npm i` command
2. Setup database settings inside `data-source.ts` file
3. Run `npm start` command


# Требования


Объект на поверхности

Объект однозначно идентифицируется кодом (текстовая строка)
Состояние объекта однозначно идентифицируется датой. Не может быть две версии на одну дату-время.
Состояние объекта можно найти по комбинации код+дата — всегда будет либо 1 либо 0 результатов.

В новых данных могут прийти неизмененные данные, или повториться с тем что уже было:
1, 1, 2, 3, 1

Блобы пишем отдельно, остальные данные дублируем для каждого состояния, даже если они не изменились


НФТ
количество данных: сотни тысяч записей о состоянии всех существующих объектов
новые данные приходят раз в час
BLOB десятки мегабайт
менее чем за час надо загрузить все данные


Таблица состояний объектов

id (PK)
дата-время версии (b-tree)
объект: FK в таблице объектов
данные геометрии: FK в таблице геометрии
данные физико-химического зондирования: FK в таблице блобов


Таблица объектов

id
код: строка (b-tree)


таблица геометрии

широта: double
долгота: double
радиус описаной окружности: double


таблица блобов

id (PK)
ByteA (hash index)